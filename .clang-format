# ================================
# OpusStyle C++ Formatting Profile
# ================================

BasedOnStyle: LLVM
Language: Cpp

# --- INDENTATION ---
UseTab: Always
IndentWidth: 8
TabWidth: 8
ContinuationIndentWidth: 8
NamespaceIndentation: All
IndentAccessModifiers: false
AccessModifierOffset: -8

BinPackArguments: false
BinPackParameters: true
AlignAfterOpenBracket: Align
AllowAllParametersOfDeclarationOnNextLine: false

# --- BRACES / BLOCKS ---

# Classes, structs, namespaces: brace on a new line
BraceWrapping:
  AfterClass: true
  AfterStruct: true
  AfterUnion: true
  AfterNamespace: true
  AfterControlStatement: Always
  AfterEnum: true
  AfterFunction: true
  AfterCaseLabel: true
  BeforeElse: true
  BeforeCatch: true
  SplitEmptyFunction: false
  SplitEmptyRecord: false # Keeps {} on one line if empty
  SplitEmptyNamespace: false

AlwaysBreakTemplateDeclarations: Yes

BreakBeforeBraces: Custom
BreakConstructorInitializers: AfterColon
ConstructorInitializerIndentWidth: 8

# Keep spacing around small control blocks
AllowShortBlocksOnASingleLine: false

# --- ALIGNMENT ---
AlignConsecutiveAssignments: true
AlignConsecutiveDeclarations: true
AlignConsecutiveBitFields: true

# --- BLANK LINES ---
EmptyLineBeforeAccessModifier: Always
EmptyLineAfterAccessModifier: Always
KeepEmptyLinesAtTheStartOfBlocks: true

# --- SPACING ---
SpaceBeforeParens: Never
SpacesInParentheses: false
SpacesInSquareBrackets: false
SpacesInAngles: Never
SpacesInCStyleCastParentheses: false
SpacesInContainerLiterals: false
SpacesBeforeTrailingComments: 1

# --- LINE LENGTH ---
ColumnLimit: 160

# --- INCLUDES ---
SortIncludes: true

# --- POINTERS ---
PointerAlignment: Left

# --- COMMENTS ---
ReflowComments: false

IndentCaseLabels: true